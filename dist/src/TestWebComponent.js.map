{"version":3,"file":"TestWebComponent.js","sourceRoot":"","sources":["../../src/TestWebComponent.ts"],"names":[],"mappings":"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","sourcesContent":["import { html, css, LitElement, property } from 'lit-element';\n\nexport class TestWebComponent extends LitElement {\n  static styles =css`\n    :host {\n      font-family: 'Arial', sans-serif;\n    }\n\n    a{\n      text-decoration: none;\n    }\n\n    .drawer-btn{\n      display: flex;\n      background: white;\n      border: 1px solid lightgrey;\n      padding: 8px;\n      cursor: pointer;\n      outline: none;\n      justify-self: flex-end;\n    }\n    .toggle-icon{\n      max-width: 25px;\n      max-height: 25px;\n    }\n\n    .apps-container{\n      min-width: 605px;\n      max-width: 30vw;\n      height: auto;\n      display: flex;\n      flex-wrap: wrap;\n      margin: 16px 4px 4px 4px;\n      padding: 8px;\n      background: #FFFFFF 0% 0% no-repeat padding-box;\n      box-shadow: 0px 3px 32px #00000014;\n      position: absolute;\n      z-index: 99999999;\n    }\n    \n    .apps-container-hidden{\n      display: none;\n    }\n    \n    .overflow {\n      right: 1%;\n    }\n\n    .app-drawer{\n      display: block;\n      overflow: hidden;\n    }\n\n    .app{\n      display: flex;\n      flex-direction: column;\n      padding: 8px;\n      margin: 8px;\n      justify-content: center;\n      align-items: center;\n      text-align: center;\n    }\n\n    .app-title{\n      font-weight: bold;\n      \n    }\n  `;\n  \n  @property({type: Array}) apps: any[] = [];\n  @property({type: Boolean}) show_apps = false;\n  @property({type: Boolean}) is_loading = true;\n  @property({type: Boolean}) is_overflow = true;\n\n  constructor(){\n    super();\n    \n    this.apps = [\n      {\n        title: \"Gmail\",\n        href: 'https://mail.google.com',\n        img_link: 'https://ssl.gstatic.com/ui/v1/icons/mail/rfr/logo_gmail_lockup_default_1x.png'\n      },\n      {\n        title: \"Gmail\",\n        href: 'https://mail.google.com',\n        img_link: 'https://ssl.gstatic.com/ui/v1/icons/mail/rfr/logo_gmail_lockup_default_1x.png'\n      },\n      {\n        title: \"Gmail\",\n        href: 'https://mail.google.com',\n        img_link: 'https://ssl.gstatic.com/ui/v1/icons/mail/rfr/logo_gmail_lockup_default_1x.png'\n      },\n      {\n        title: \"Gmail\",\n        href: 'https://mail.google.com',\n        img_link: 'https://ssl.gstatic.com/ui/v1/icons/mail/rfr/logo_gmail_lockup_default_1x.png'\n      },\n      {\n        title: \"Gmail\",\n        href: 'https://mail.google.com',\n        img_link: 'https://ssl.gstatic.com/ui/v1/icons/mail/rfr/logo_gmail_lockup_default_1x.png'\n      },\n      {\n        title: \"Gmail\",\n        href: 'https://mail.google.com',\n        img_link: 'https://ssl.gstatic.com/ui/v1/icons/mail/rfr/logo_gmail_lockup_default_1x.png'\n      }\n    ];\n\n    this.addEventListener('toggleApps', async (e: any) => {\n      this.show_apps = e.detail;\n      await this.requestUpdate();\n      this.alignElement();\n    });\n\n    \n    window.addEventListener('click', (e)=> {\n      const element = this;\n      if(e.target !== this){\n        this.show_apps = false;\n      }\n    })\n  }\n\n  onUserClick = (e: MouseEvent) => {\n    if(e.target !== this){\n      this.show_apps = false;\n    }\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    window.addEventListener('click', this.onUserClick)\n  }\n\n  disconnectedCallback(){\n    window.removeEventListener('click', this.onUserClick);\n    super.disconnectedCallback();\n  }\n\n  \n  toggleApps = () => {\n    let event = new CustomEvent('toggleApps', {\n      detail: !this.show_apps\n    });\n    this.dispatchEvent(event)\n  }\n\n  getDrawerBtnElement = () => {\n    return this.shadowRoot?.getElementById('drawer-btn');\n  }\n\n  getAppsContainerElement = (): HTMLElement | any => {\n    let element = this.shadowRoot?.getElementById('apps-container');\n    if(!element){\n      return null;\n    }\n    // var element = this.shadowRoot?.querySelector('#apps-container');\n    // setTimeout(()=> console.log(element.) , 2000)\n    // var bounding = element?.getBoundingClientRect();\n    return element;\n  }\n\n  alignElement = () => {\n    if(this.show_apps){\n      let window = document.documentElement.clientWidth;\n      let position = this.getPosition();\n      let drawer_button_offset = this.getDrawerBtnElement()?.offsetLeft || 0;\n      if(position.x > (window / 2)){\n        // Align the drawer to right\n        this.getAppsContainerElement().style.right = `0`\n      }\n      else {\n        // Align the drawer by the position of the drawer button;\n        this.getAppsContainerElement().style.left = `${drawer_button_offset / window}`\n      }\n    }\n  };\n\n \n  getPosition = () => {\n    let element = this.getAppsContainerElement();\n    let x = 0;\n    let y = 0;\n    while(element){\n      x += (element.offsetLeft - element.scrollLeft + element.clientLeft);\n      y += (element.offsetTop - element.scrollTop + element.clientTop);\n      element = element.offsetParent;\n    }\n   \n    return {\n      x: x,\n      y: y\n    }\n  }\n\n\n  render() {\n    return html`\n      <div class='app-drawer'>\n        <button id='drawer-btn' @click=${this.toggleApps} class='drawer-btn'>\n          <img class='toggle-icon' src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE2LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgd2lkdGg9IjI3Ni4xNjdweCIgaGVpZ2h0PSIyNzYuMTY3cHgiIHZpZXdCb3g9IjAgMCAyNzYuMTY3IDI3Ni4xNjciIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDI3Ni4xNjcgMjc2LjE2NzsiDQoJIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPGc+DQoJCTxwYXRoIGQ9Ik0zMy4xNDQsMi40NzFDMTUuMzM2LDIuNDcxLDAuODUsMTYuOTU4LDAuODUsMzQuNzY1czE0LjQ4LDMyLjI5MywzMi4yOTQsMzIuMjkzczMyLjI5NC0xNC40ODYsMzIuMjk0LTMyLjI5Mw0KCQkJUzUwLjk1MSwyLjQ3MSwzMy4xNDQsMi40NzF6Ii8+DQoJCTxwYXRoIGQ9Ik0xMzcuNjYzLDIuNDcxYy0xNy44MDcsMC0zMi4yOTQsMTQuNDg3LTMyLjI5NCwzMi4yOTRzMTQuNDg3LDMyLjI5MywzMi4yOTQsMzIuMjkzYzE3LjgwOCwwLDMyLjI5Ny0xNC40ODYsMzIuMjk3LTMyLjI5Mw0KCQkJUzE1NS40NzcsMi40NzEsMTM3LjY2MywyLjQ3MXoiLz4NCgkJPHBhdGggZD0iTTI0My44NzMsNjcuMDU5YzE3LjgwNCwwLDMyLjI5NC0xNC40ODYsMzIuMjk0LTMyLjI5M1MyNjEuNjg5LDIuNDcxLDI0My44NzMsMi40NzFzLTMyLjI5NCwxNC40ODctMzIuMjk0LDMyLjI5NA0KCQkJUzIyNi4wNjgsNjcuMDU5LDI0My44NzMsNjcuMDU5eiIvPg0KCQk8cGF0aCBkPSJNMzIuMywxNzAuNTM5YzE3LjgwNywwLDMyLjI5Ny0xNC40ODMsMzIuMjk3LTMyLjI5M2MwLTE3LjgxMS0xNC40OS0zMi4yOTctMzIuMjk3LTMyLjI5N1MwLDEyMC40MzYsMCwxMzguMjQ2DQoJCQlDMCwxNTYuMDU2LDE0LjQ5MywxNzAuNTM5LDMyLjMsMTcwLjUzOXoiLz4NCgkJPHBhdGggZD0iTTEzNi44MTksMTcwLjUzOWMxNy44MDQsMCwzMi4yOTQtMTQuNDgzLDMyLjI5NC0zMi4yOTNjMC0xNy44MTEtMTQuNDc4LTMyLjI5Ny0zMi4yOTQtMzIuMjk3DQoJCQljLTE3LjgxMywwLTMyLjI5NCwxNC40ODYtMzIuMjk0LDMyLjI5N0MxMDQuNTI1LDE1Ni4wNTYsMTE5LjAxMiwxNzAuNTM5LDEzNi44MTksMTcwLjUzOXoiLz4NCgkJPHBhdGggZD0iTTI0My4wMzgsMTcwLjUzOWMxNy44MTEsMCwzMi4yOTQtMTQuNDgzLDMyLjI5NC0zMi4yOTNjMC0xNy44MTEtMTQuNDgzLTMyLjI5Ny0zMi4yOTQtMzIuMjk3DQoJCQlzLTMyLjMwNiwxNC40ODYtMzIuMzA2LDMyLjI5N0MyMTAuNzMyLDE1Ni4wNTYsMjI1LjIyMiwxNzAuNTM5LDI0My4wMzgsMTcwLjUzOXoiLz4NCgkJPHBhdGggZD0iTTMzLjAzOSwyMDkuMTA4Yy0xNy44MDcsMC0zMi4zLDE0LjQ4My0zMi4zLDMyLjI5NGMwLDE3LjgwNCwxNC40OTMsMzIuMjkzLDMyLjMsMzIuMjkzczMyLjI5My0xNC40ODIsMzIuMjkzLTMyLjI5Mw0KCQkJUzUwLjg0NiwyMDkuMTA4LDMzLjAzOSwyMDkuMTA4eiIvPg0KCQk8cGF0aCBkPSJNMTM3LjU2NCwyMDkuMTA4Yy0xNy44MDgsMC0zMi4zLDE0LjQ4My0zMi4zLDMyLjI5NGMwLDE3LjgwNCwxNC40ODcsMzIuMjkzLDMyLjMsMzIuMjkzDQoJCQljMTcuODA0LDAsMzIuMjkzLTE0LjQ4MiwzMi4yOTMtMzIuMjkzUzE1NS4zNjgsMjA5LjEwOCwxMzcuNTY0LDIwOS4xMDh6Ii8+DQoJCTxwYXRoIGQ9Ik0yNDMuNzcxLDIwOS4xMDhjLTE3LjgwNCwwLTMyLjI5NCwxNC40ODMtMzIuMjk0LDMyLjI5NGMwLDE3LjgwNCwxNC40OSwzMi4yOTMsMzIuMjk0LDMyLjI5Mw0KCQkJYzE3LjgxMSwwLDMyLjI5NC0xNC40ODIsMzIuMjk0LTMyLjI5M1MyNjEuNTc1LDIwOS4xMDgsMjQzLjc3MSwyMDkuMTA4eiIvPg0KCTwvZz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjwvc3ZnPg0K\" />\n        </button>\n        <div id='apps-container'\n          class=${this.show_apps ? 'apps-container' : 'apps-container-hidden'}>\n          ${this.apps.map(i => html`\n            <div class='app'>\n              <a href=${i.href} target=\"_blank\">\n                <img src=${i.img_link} alt=${i.title}/>\n                <p class='app-title'>${i.title}</p>\n              </a>\n            </div>\n          `)}\n        </div>\n      </div>\n    `;\n  }\n}\n"]}